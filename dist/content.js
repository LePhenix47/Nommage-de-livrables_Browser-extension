(()=>{"use strict";function e(e,t=document){if(t===document)return document.querySelector(e);switch(!0){case t.tagName?.includes("-"):return t.shadowRoot?.querySelector(e);case t instanceof HTMLTemplateElement:return document.importNode(t.content,!0).querySelector(e);case t instanceof HTMLIFrameElement:return t.contentDocument?.querySelector(e);default:return t.querySelector(e)}}function t(e,t=document){if(t===document)return Array.from(document.querySelectorAll(e));switch(!0){case t.tagName?.includes("-"):return Array.from(t.shadowRoot?.querySelectorAll(e)||[]);case t instanceof HTMLTemplateElement:return Array.from(document.importNode(t.content,!0).querySelectorAll(e));case t instanceof HTMLIFrameElement:return Array.from(t.contentDocument?.querySelectorAll(e)||[]);default:return Array.from(t.querySelectorAll(e))}}const n=class{static setKey(e,t,n=!1){const o=JSON.stringify(t);(n?sessionStorage:localStorage).setItem(e,o)}static getKey(e,t=!1){const n=t?sessionStorage:localStorage,o=JSON.parse(n.getItem(e));return Boolean(o)?o:null}static removeKey(e,t=!1){(t?sessionStorage:localStorage).removeItem(e)}static clearAll(e=!1){e?sessionStorage.clear():localStorage.clear()}static currentLength(e=!1){return(e?sessionStorage:localStorage).length}static getKeyByIndex(e,t=!1){const n=t?sessionStorage:localStorage,o=JSON.parse(n.key(e));return Boolean(o)?o:null}static replacer(e,t){return t instanceof Map?{__type:"Map",value:Object.fromEntries(t)}:t instanceof Set?{__type:"Set",value:Array.from(t)}:t}static reviver(e,t){switch(t?.__type){case"Set":return new Set(t?.value);case"Map":return new Map(t?.value);default:return t}}};function o(){const o=function(){const n=t('aside[data-claire-semantic="information"]').find((e=>{if(e.innerText.includes("Dupont_Jean"))return e}));if(!n)throw new Error("Aside not found");const o=e("p>strong",n),r=e("ul",n),a=t("li",r);if(!r||!a)throw new Error("Child elements to be updated not found");const c=new Map;return c.set("title",[o]),c.set("list-items",a),c}(),r=e("h1").innerText.replaceAll(" ","_");o.get("title")[0].textContent=r;const a=function(){const e=["ndl-extension_first-name","ndl-extension_last-name","ndl-extension_date"],t=new Map;for(const o of e){const e=o.split("_")[1],r=n.getKey(o);if(!r)throw new Error(`${e} does not exist on local storage`);switch(e){case"date":{const n=new Date(r).toLocaleString("fr-FR",{year:"numeric",month:"2-digit"}).replaceAll("/","");t.set(e,n);break}default:t.set(e,r)}}return t}(),c=`${a.get("last-name")}_${a.get("first-name")}`,l=o.get("list-items"),s=a.get("date");for(const e of l){const[t,n]=Array.from(e.children);c&&(t.textContent=t.innerText.replaceAll("Nom_PrÃ©nom",c)),s&&(n.textContent=n.innerText.replaceAll("mmaaaa",s))}}!function(){let e=0;e>15?console.log("%cMax calling stack exceeded (10 calls MAX), the script will stop to avoid infinite loops, please reload the page","padding:5px; font-size: 16px; background-color: red; color:white;"):(!function t(n){setTimeout((()=>{try{return void o()}catch(n){console.log(`%c${n}`,"padding:5px; font-size: 16px; background-color: darkred; color:white;"),e++,t(500)}}),n)}(3e3),console.log("%cThe script worked!","padding:5px; font-size: 24px; background: green; color:white;"))}(),console.log("Hello content.ts")})();